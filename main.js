(()=>{"use strict";var e="",t=[{name:"Брест",link:e+"2944e8f1dea85f97d0ea.jpg"},{name:"Витебск",link:e+"bea18247fa00649f6b2c.jpg"},{name:"Гомель",link:e+"c4508b1ba86622d502a5.jpg"},{name:"Гродно",link:e+"f18a98687e1ce1424cd8.jpg"},{name:"Могилев",link:e+"8d8d7275283556b5af90.jpg"},{name:"Минск",link:e+"e90c9e110fcbec46aa13.jpg"}],n="pop-up_active",r={formSelector:".pop-up__form",inputSelector:".pop-up__input",submitButtonSelector:".pop-up__button",inactiveButtonClass:"pop-up__button_inactive",inputErrorClass:"pop-up__input_type_error",errorClass:"pop-up__error_visible"};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=i((function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"_getTemplate",(function(){return document.querySelector(o._selectorTemplate).content.querySelector(".card").cloneNode(!0)})),u(this,"generateCard",(function(){return o._element=o._getTemplate(),o._imgCard=o._element.querySelector(".card__image"),o._element.querySelector(".card__title").textContent=o._title,o._imgCard.alt=o._title,o._imgCard.src=o._src,o._buttonLikeCard=o._element.querySelector(".card__button-like"),o._setEventListeners(),o._element})),u(this,"_setEventListeners",(function(){o._element.querySelector(".card__button-delete").addEventListener("click",(function(){return o._handleCardDelete()})),o._buttonLikeCard.addEventListener("click",(function(){return o._handleLike()})),o._imgCard.addEventListener("click",(function(){return o._handleCardClick(o._item)}))})),u(this,"_handleCardDelete",(function(){o._element.remove()})),u(this,"_handleLike",(function(){o._buttonLikeCard.classList.toggle("card__button-like_active")})),this._item=t,this._title=this._item.name,this._alt=this._item.name,this._src=this._item.link,this._selectorTemplate=n,this._handleCardClick=r}));function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"_handleEscClose",(function(e){"Escape"===e.key&&n.close()})),l(this,"_handleClickIconClose",(function(e){(e.target.classList.contains("pop-up")||e.target.classList.contains("pop-up__close-icon"))&&n.close()})),this._popup=document.querySelector("".concat(t)),this._closeIcon=this._popup.querySelector(".pop-up__close-icon")}var t,r;return t=e,(r=[{key:"open",value:function(){this._popup.classList.add(n),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove(n),document.removeEventListener("keyup",this._handleEscClose)}},{key:"setEventListeners",value:function(){this._popup.addEventListener("click",this._handleClickIconClose)}}])&&c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=d(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},_.apply(this,arguments)}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e)).submitHandler=t,n.form=n._popup.querySelector(".pop-up__form"),n._inputList=n._popup.querySelectorAll(".pop-up__input"),n._inputName=n._popup.querySelector(".pop-up__input_user-name"),n._inputUserInfo=n._popup.querySelector(".pop-up__input_user-job"),n}return t=u,(n=[{key:"close",value:function(){this.form.reset(),_(b(u.prototype),"close",this).call(this)}},{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"setEventListeners",value:function(){var e=this;_(b(u.prototype),"setEventListeners",this).call(this),this.form.addEventListener("submit",(function(t){t.preventDefault(),e.submitHandler(e._getInputValues())}))}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(s);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=w(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},E.apply(this,arguments)}function w(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function j(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupImage=t._popup.querySelector(".pop-up__view-img"),t._imageName=t._popup.querySelector(".pop-up__title-view-img"),t}return t=u,(n=[{key:"open",value:function(e,t){this._popupImage.src=e,this._popupImage.alt=t,this._imageName.textContent=t,E(S(u.prototype),"open",this).call(this)}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(s);function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.append(e)}},{key:"prependItem",value:function(e){this._container.prepend(e)}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(){var e=this;this.clear(),this._renderedItems.forEach((function(t){e._renderer(t)}))}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=I((function e(t){var n=this,r=t.selectorsUser;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),q(this,"getUserInfo",(function(){return{"name-input":n._userName.textContent,"job-input":n._userJob.textContent}})),q(this,"setUserInfo",(function(e){n._userName.textContent=e["name-input"],n._userJob.textContent=e["job-input"]})),this._selectorsUser=r,this._userName=document.querySelector(r.name),this._userJob=document.querySelector(r.about)}));function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),T(this,"_showInputError",(function(){r._inputElement.classList.add(r._selectors.inputErrorClass),r._errorElement.textContent=r._errorMessage,r._errorElement.classList.add(r._selectors.errorClass)})),T(this,"_hideInputError",(function(){r._inputElement.classList.remove(r._selectors.inputErrorClass),r._errorElement.classList.remove(r._selectors.errorClass),r._errorElement.textContent=""})),T(this,"_isValid",(function(){r._inputElement.validity.valid?r._hideInputError():r._showInputError()})),T(this,"_hasInvalidInput",(function(){return r._inputList.some((function(e){return!e.validity.valid}))})),T(this,"_enableSubmitButton",(function(){r._buttonElement.classList.add(r._selectors.inactiveButtonClass),r._buttonElement.setAttribute("disabled","disabled")})),T(this,"_disableSubmitButton",(function(){r._buttonElement.classList.remove(r._selectors.inactiveButtonClass),r._buttonElement.removeAttribute("disabled")})),T(this,"_toggleButtonState",(function(){r._hasInvalidInput()?r._enableSubmitButton():r._disableSubmitButton()})),T(this,"_setEventListeners",(function(){r._toggleButtonState(),r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._inputElement=e,r._errorElement=r._formElement.querySelector(".".concat(r._inputElement.name,"-error")),r._errorMessage=r._inputElement.validationMessage,r._isValid(),r._toggleButtonState()}))}))})),T(this,"enableValidation",(function(){r._setEventListeners()})),this._formElement=t,this._selectors=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._selectors.inputSelector)),this._buttonElement=this._formElement.querySelector(n.submitButtonSelector)}var t,n;return t=e,(n=[{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._inputElement=t,e._errorElement=e._formElement.querySelector(".".concat(e._inputElement.name,"-error")),e._hideInputError()}))}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),x=document.querySelector(".profile__button_edit"),U=document.querySelector(".profile__button_add"),D=document.querySelector(".pop-up__form-edit-profile"),N=document.querySelector(".pop-up__form-add-card"),A=new V(D,r);A.enableValidation();var M=new V(N,r);function H(e){return new a(e,"#template-card",F).generateCard()}M.enableValidation();var J=new L({items:t,renderer:function(e){var t=H(e);J.addItem(t)}},".cards");J.renderItems();var z=new h(".pop-up_add-card",(function(e){var t=H({name:e["name-card-input"],link:e["url-input"]});J.prependItem(t),z.close()}));function F(e){G.open(e.link,e.name)}z.setEventListeners(),U.addEventListener("click",(function(){z.open(),M.resetValidation()}));var G=new k(".pop-up_view-card");G.setEventListeners();var K=new R({selectorsUser:{name:".profile__user",about:".profile__user-job"}}),Q=new h(".pop-up_edit-profile",(function(e){K.setUserInfo(e),Q.close()}));Q.setEventListeners(),x.addEventListener("click",(function(){Q.open();var e=K.getUserInfo();Q.setInputValues(e),A.resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFlQyxLQUFLMUgsRUFBS1YsS0FBTVUsRUFBS1gsS0FDckMsQ0FURGlJLEVBQWFLLG9CQUViakIsRUFBaUJ4RixpQkFBaUIsU0FBUyxXQUN6Q29HLEVBQWFJLE9BQ2JYLEVBQWNhLGlCQUNmLElBTUQsSUFBTUgsRUFBaUIsSUFBSS9ELEVSRVYscUJRRGpCK0QsRUFBZUUsb0JBRWYsSUFBTUUsRUFBYyxJQUFJbkQsRUFBUyxDQUMvQkMsY1J4QzJCLENBQzNCdEYsS0FBTSxpQkFDTjBGLE1BQU8sd0JRd0NIK0MsRUFBZSxJQUFJckYsRVJuQ0wsd0JRbUMrQyxTQUFDc0YsR0FDbEVGLEVBQVlHLFlBQVlELEdBQ3hCRCxFQUFhOUYsT0FDZCxJQUNEOEYsRUFBYUgsb0JBRWJsQixFQUFrQnZGLGlCQUFpQixTQUFTLFdBQzFDNEcsRUFBYUosT0FDYixJQUFNTyxFQUFXSixFQUFZSyxjQUM3QkosRUFBYUssZUFBZUYsR0FDNUJwQixFQUFpQmUsaUJBQ2xCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgYnJlc3RJbWcgZnJvbSAnLi4vaW1hZ2VzL2JyZXN0LmpwZyc7XG5pbXBvcnQgdml0ZWJza0ltZyBmcm9tICcuLi9pbWFnZXMvdml0ZWJzay5qcGcnO1xuaW1wb3J0IGhvbWVsSW1nIGZyb20gJy4uL2ltYWdlcy9nb21lbC5qcGcnO1xuaW1wb3J0IGhyb2Rub0ltZyBmcm9tICcuLi9pbWFnZXMvaHJvZG5vLmpwZyc7XG5pbXBvcnQgbW9naWxldkltZyBmcm9tICcuLi9pbWFnZXMvbW9naWxldi5qcGcnO1xuaW1wb3J0IG1pbnNrSW1nIGZyb20gJy4uL2ltYWdlcy9taW5zay5qcGcnO1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW3tcbiAgICBuYW1lOiAn0JHRgNC10YHRgicsXG4gICAgbGluazogYnJlc3RJbWdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQktC40YLQtdCx0YHQuicsXG4gICAgbGluazogdml0ZWJza0ltZ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ9CT0L7QvNC10LvRjCcsXG4gICAgbGluazogaG9tZWxJbWdcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQk9GA0L7QtNC90L4nLFxuICAgIGxpbms6IGhyb2Rub0ltZ1xuICB9LFxuICB7XG4gICAgbmFtZTogJ9Cc0L7Qs9C40LvQtdCyJyxcbiAgICBsaW5rOiBtb2dpbGV2SW1nXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0JzQuNC90YHQuicsXG4gICAgbGluazogbWluc2tJbWdcbiAgfVxuXTtcblxuZXhwb3J0IGNvbnN0IHNlbGVjdG9yc1VzZXIgPSB7XG4gIG5hbWU6ICcucHJvZmlsZV9fdXNlcicsXG4gIGFib3V0OiAnLnByb2ZpbGVfX3VzZXItam9iJ1xufVxuXG5leHBvcnQgY29uc3Qgc2VsZWN0b3JzID0ge1xuICBidXR0b25BZGROZXdDYXJkOiAnLnByb2ZpbGVfX2J1dHRvbl9hZGQnLFxuICBwb3BVcEVkaXRQcm9maWxlOiAnLnBvcC11cF9lZGl0LXByb2ZpbGUnLFxuICBmb3JtRWRpdFByb2ZpbGU6ICcucG9wLXVwX19mb3JtLWVkaXQtcHJvZmlsZScsXG4gIGZvcm1BZGRDYXJkOiAnLnBvcC11cF9fZm9ybS1hZGQtY2FyZCcsXG4gIHByb2ZpbGVCdXR0b25FZGl0OiAnLnByb2ZpbGVfX2J1dHRvbl9lZGl0JyxcbiAgcG9wVXBBZGRDYXJkOiAnLnBvcC11cF9hZGQtY2FyZCcsXG4gIHBvcFVwRm9ybTogJy5wb3AtdXBfX2Zvcm0nLFxuICBwb3BVcElucHV0OiAnLnBvcC11cF9faW5wdXQnLFxuICBwb3BVcElucHV0VXNlck5hbWU6ICcucG9wLXVwX19pbnB1dF91c2VyLW5hbWUnLFxuICBwb3BVcElucHV0VXNlckluZm86ICcucG9wLXVwX19pbnB1dF91c2VyLWpvYicsXG4gIHVzZXJOYW1lSW5wdXQ6ICduYW1lLWlucHV0JyxcbiAgdXNlckluZm9JbnB1dDogJ2pvYi1pbnB1dCcsXG4gIGNhcmROYW1lSW5wdXQ6ICduYW1lLWNhcmQtaW5wdXQnLFxuICBjYXJkTGlua0lucHV0OiAndXJsLWlucHV0J1xufVxuXG5leHBvcnQgY29uc3Qgc2VsZWN0b3JzUG9wdXAgPSB7XG4gIHBvcHVwQWN0aXZlOiAncG9wLXVwX2FjdGl2ZScsXG4gIHBvcHVwOiAncG9wLXVwJyxcbiAgcG9wVXBDbG9zZUljb246ICdwb3AtdXBfX2Nsb3NlLWljb24nLFxufVxuXG5leHBvcnQgY29uc3Qgc2VsZWN0b3JzQ2FyZHMgPSB7XG4gIHRlbXBsYXRlQ2FyZDogJyN0ZW1wbGF0ZS1jYXJkJyxcbiAgYXJ0aWNsZUNhcmQ6ICcuY2FyZCcsXG4gIHNlY3Rpb25DYXJkczogJy5jYXJkcycsXG4gIGltZ0NhcmQ6ICcuY2FyZF9faW1hZ2UnLFxuICB0aXRsZUNhcmQ6ICcuY2FyZF9fdGl0bGUnLFxuICBidXR0b25EZWxldGVDYXJkOiAnLmNhcmRfX2J1dHRvbi1kZWxldGUnLFxuICBidXR0b25MaWtlQ2FyZDogJy5jYXJkX19idXR0b24tbGlrZScsXG4gIGJ1dHRvbkxpa2VBY3RpdmVDYXJkOiAnY2FyZF9fYnV0dG9uLWxpa2VfYWN0aXZlJyxcbiAgZm9ybUFkZENhcmQ6ICcucG9wLXVwX19mb3JtLWFkZC1jYXJkJyxcbiAgcG9wVXBWaWV3Q2FyZDogJy5wb3AtdXBfdmlldy1jYXJkJyxcbiAgcG9wVXBWaWV3SW1nOiAnLnBvcC11cF9fdmlldy1pbWcnLFxuICBwb3BVcFZpZXdDYXJkVGl0bGU6ICcucG9wLXVwX190aXRsZS12aWV3LWltZycsXG4gIHBvcFVwQ2xvc2VJY29uczogJy5wb3AtdXBfX2Nsb3NlLWljb24nLFxuICBpbnB1dE5hbWVDYXJkOiAnLnBvcC11cF9faW5wdXRfY2FyZC1uYW1lJyxcbiAgaW5wdXRVcmxDYXJkOiAnLnBvcC11cF9faW5wdXRfY2FyZC11cmwnLFxufVxuXG5leHBvcnQgY29uc3Qgc2VsZWN0b3JzVmFsaWRhdGlvbiA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcC11cF9fZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wLXVwX19pbnB1dCcsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcC11cF9fYnV0dG9uJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcC11cF9fYnV0dG9uX2luYWN0aXZlJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wLXVwX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgZXJyb3JDbGFzczogJ3BvcC11cF9fZXJyb3JfdmlzaWJsZSdcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQge1xuICBzZWxlY3RvcnNDYXJkc1xufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoaXRlbSwgc2VsZWN0b3JUZW1wbGF0ZSwgaGFuZGxlQ2FyZENsaWNrKSB7XG4gICAgdGhpcy5faXRlbSA9IGl0ZW07XG4gICAgdGhpcy5fdGl0bGUgPSB0aGlzLl9pdGVtLm5hbWU7XG4gICAgdGhpcy5fYWx0ID0gdGhpcy5faXRlbS5uYW1lO1xuICAgIHRoaXMuX3NyYyA9IHRoaXMuX2l0ZW0ubGluaztcbiAgICB0aGlzLl9zZWxlY3RvclRlbXBsYXRlID0gc2VsZWN0b3JUZW1wbGF0ZTtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gIH1cbiAgX2dldFRlbXBsYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3RvclRlbXBsYXRlKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzQ2FyZHMuYXJ0aWNsZUNhcmQpLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cbiAgZ2VuZXJhdGVDYXJkID0gKCkgPT4ge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2ltZ0NhcmQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzQ2FyZHMuaW1nQ2FyZCk7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yc0NhcmRzLnRpdGxlQ2FyZCkudGV4dENvbnRlbnQgPSB0aGlzLl90aXRsZTtcbiAgICB0aGlzLl9pbWdDYXJkLmFsdCA9IHRoaXMuX3RpdGxlO1xuICAgIHRoaXMuX2ltZ0NhcmQuc3JjID0gdGhpcy5fc3JjO1xuICAgIHRoaXMuX2J1dHRvbkxpa2VDYXJkID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yc0NhcmRzLmJ1dHRvbkxpa2VDYXJkKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzQ2FyZHMuYnV0dG9uRGVsZXRlQ2FyZCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlKCkpO1xuICAgIHRoaXMuX2J1dHRvbkxpa2VDYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlTGlrZSgpKTtcbiAgICB0aGlzLl9pbWdDYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX2l0ZW0pKTtcbiAgfVxuICBfaGFuZGxlQ2FyZERlbGV0ZSA9ICgpID0+IHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG4gIF9oYW5kbGVMaWtlID0gKCkgPT4ge1xuICAgIHRoaXMuX2J1dHRvbkxpa2VDYXJkLmNsYXNzTGlzdC50b2dnbGUoc2VsZWN0b3JzQ2FyZHMuYnV0dG9uTGlrZUFjdGl2ZUNhcmQpO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCdcbmltcG9ydCB7XG4gIHNlbGVjdG9yc0NhcmRzLFxuICBzZWxlY3RvcnNQb3B1cFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5leHBvcnQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3BvcHVwU2VsZWN0b3J9YCk7XG4gICAgdGhpcy5fY2xvc2VJY29uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihzZWxlY3RvcnNDYXJkcy5wb3BVcENsb3NlSWNvbnMpO1xuICB9XG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChzZWxlY3RvcnNQb3B1cC5wb3B1cEFjdGl2ZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShzZWxlY3RvcnNQb3B1cC5wb3B1cEFjdGl2ZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cbiAgX2hhbmRsZUNsaWNrSWNvbkNsb3NlID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoc2VsZWN0b3JzUG9wdXAucG9wdXApIHx8IGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoc2VsZWN0b3JzUG9wdXAucG9wVXBDbG9zZUljb24pKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfTtcblxuICB9XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xpY2tJY29uQ2xvc2UpO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IHtcbiAgUG9wdXBcbn0gZnJvbSBcIi4vUG9wdXAuanNcIjtcbmltcG9ydCB7XG4gIHNlbGVjdG9yc1xufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3Rvck5hbWUsIHN1Ym1pdEhhbmRsZXIpIHtcbiAgICBzdXBlcihzZWxlY3Rvck5hbWUpO1xuICAgIHRoaXMuc3VibWl0SGFuZGxlciA9IHN1Ym1pdEhhbmRsZXI7XG4gICAgdGhpcy5mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMucG9wVXBGb3JtKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9ycy5wb3BVcElucHV0KTtcbiAgICB0aGlzLl9pbnB1dE5hbWUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5wb3BVcElucHV0VXNlck5hbWUpO1xuICAgIHRoaXMuX2lucHV0VXNlckluZm8gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5wb3BVcElucHV0VXNlckluZm8pO1xuICB9XG4gIGNsb3NlKCkge1xuICAgIHRoaXMuZm9ybS5yZXNldCgpO1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gIH1cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG5cbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcbiAgfVxuICBzZXRJbnB1dFZhbHVlcyh2YWx1ZXMpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIC8vINGC0YPRgiDQstGB0YLQsNCy0LvRj9C10Lwg0LIgYHZhbHVlYCDQuNC90L/Rg9GC0LAg0LTQsNC90L3Ri9C1INC40Lcg0L7QsdGK0LXQutGC0LAg0L/QviDQsNGC0YDQuNCx0YPRgtGDIGBuYW1lYCDRjdGC0L7Qs9C+INC40L3Qv9GD0YLQsFxuICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZXNbaW5wdXQubmFtZV07XG4gICAgfSk7XG4gIH1cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnN1Ym1pdEhhbmRsZXIodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQge1xuICBQb3B1cFxufSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuaW1wb3J0IHtcbiAgc2VsZWN0b3JzQ2FyZHNcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XG4gICAgc3VwZXIoc2VsZWN0b3IpO1xuXG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzQ2FyZHMucG9wVXBWaWV3SW1nKTtcbiAgICB0aGlzLl9pbWFnZU5hbWUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yc0NhcmRzLnBvcFVwVmlld0NhcmRUaXRsZSk7XG4gIH1cblxuICBvcGVuKGxpbmssIG5hbWUpIHtcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBuYW1lO1xuICAgIHRoaXMuX2ltYWdlTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgc3VwZXIub3BlbigpXG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBpdGVtcyxcbiAgICByZW5kZXJlclxuICB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgYWRkSXRlbShjYXJkKSB7XG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChjYXJkKTtcbiAgfVxuXG4gIHByZXBlbmRJdGVtKGNhcmQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChjYXJkKTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuY2xlYXIoKTtcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5leHBvcnQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgc2VsZWN0b3JzVXNlclxuICB9KSB7XG4gICAgdGhpcy5fc2VsZWN0b3JzVXNlciA9IHNlbGVjdG9yc1VzZXI7XG4gICAgdGhpcy5fdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yc1VzZXIubmFtZSk7XG4gICAgdGhpcy5fdXNlckpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzVXNlci5hYm91dCk7XG4gIH1cbiAgZ2V0VXNlckluZm8gPSAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICduYW1lLWlucHV0JzogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXG4gICAgICAnam9iLWlucHV0JzogdGhpcy5fdXNlckpvYi50ZXh0Q29udGVudFxuICAgIH1cbiAgfVxuXG4gIHNldFVzZXJJbmZvID0gKHZhbHVlcykgPT4ge1xuICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gdmFsdWVzWyduYW1lLWlucHV0J107XG4gICAgdGhpcy5fdXNlckpvYi50ZXh0Q29udGVudCA9IHZhbHVlc1snam9iLWlucHV0J107XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGZvcm1FbGVtZW50LCBzZWxlY3RvcnMpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX3NlbGVjdG9ycyA9IHNlbGVjdG9ycztcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2VsZWN0b3JzLmlucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICB9XG4gIF9zaG93SW5wdXRFcnJvciA9ICgpID0+IHtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZWxlY3RvcnMuaW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9lcnJvck1lc3NhZ2U7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fc2VsZWN0b3JzLmVycm9yQ2xhc3MpO1xuICB9O1xuICBfaGlkZUlucHV0RXJyb3IgPSAoKSA9PiB7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2VsZWN0b3JzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2VsZWN0b3JzLmVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICB9O1xuICBfaXNWYWxpZCA9ICgpID0+IHtcbiAgICBpZiAoIXRoaXMuX2lucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoKTtcbiAgICB9XG4gIH07XG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuICBfZW5hYmxlU3VibWl0QnV0dG9uID0gKCkgPT4ge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZWxlY3RvcnMuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gIH1cbiAgX2Rpc2FibGVTdWJtaXRCdXR0b24gPSAoKSA9PiB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NlbGVjdG9ycy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgfVxuICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9lbmFibGVTdWJtaXRCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICAgIH1cbiAgfVxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9pbnB1dEVsZW1lbnQgPSBpbnB1dEVsZW1lbnQ7XG4gICAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLl9pbnB1dEVsZW1lbnQubmFtZX0tZXJyb3JgKTtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKCk7XG4gICAgfSk7XG4gIH1cbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9pbnB1dEVsZW1lbnQgPSBpbnB1dEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3RoaXMuX2lucHV0RWxlbWVudC5uYW1lfS1lcnJvcmApO1xuICAgICAgICB0aGlzLl9lcnJvck1lc3NhZ2UgPSB0aGlzLl9pbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgICAgIHRoaXMuX2lzVmFsaWQoKTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pXG4gIH07XG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgc2VsZWN0b3JzLFxuICBpbml0aWFsQ2FyZHMsXG4gIHNlbGVjdG9yc0NhcmRzLFxuICBzZWxlY3RvcnNVc2VyLFxuICBzZWxlY3RvcnNWYWxpZGF0aW9uXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQge1xuICBDYXJkXG59IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQge1xuICBQb3B1cFdpdGhGb3JtXG59IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQge1xuICBQb3B1cFdpdGhJbWFnZVxufSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCB7XG4gIFNlY3Rpb25cbn0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCB7XG4gIFVzZXJJbmZvXG59IGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IHtcbiAgRm9ybVZhbGlkYXRvclxufSBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5cbmNvbnN0IHByb2ZpbGVCdXR0b25FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMucHJvZmlsZUJ1dHRvbkVkaXQpXG5jb25zdCBidXR0b25BZGROZXdDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMuYnV0dG9uQWRkTmV3Q2FyZCk7XG5jb25zdCBmb3JtRWRpdFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5mb3JtRWRpdFByb2ZpbGUpO1xuY29uc3QgZm9ybUFkZENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5mb3JtQWRkQ2FyZCk7XG5jb25zdCBwcm9maWxlVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUVkaXRQcm9maWxlLCBzZWxlY3RvcnNWYWxpZGF0aW9uKTtcbnByb2ZpbGVWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuY29uc3QgY2FyZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1BZGRDYXJkLCBzZWxlY3RvcnNWYWxpZGF0aW9uKTtcbmNhcmRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pIHtcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKGl0ZW0sIHNlbGVjdG9yc0NhcmRzLnRlbXBsYXRlQ2FyZCwgb3BlbkltYWdlKTtcbiAgcmV0dXJuIG5ld0NhcmQuZ2VuZXJhdGVDYXJkKCk7XG59XG5cbmNvbnN0IGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKHtcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoaXRlbSk7XG4gICAgICBjYXJkc0xpc3QuYWRkSXRlbShjYXJkKTtcbiAgICB9XG4gIH0sXG4gIHNlbGVjdG9yc0NhcmRzLnNlY3Rpb25DYXJkc1xuKTtcbmNhcmRzTGlzdC5yZW5kZXJJdGVtcygpO1xuXG5jb25zdCBhZGRDYXJkUG9wVXAgPSBuZXcgUG9wdXBXaXRoRm9ybShzZWxlY3RvcnMucG9wVXBBZGRDYXJkLCAoZGF0YSkgPT4ge1xuICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZCh7XG4gICAgbmFtZTogZGF0YVtzZWxlY3RvcnMuY2FyZE5hbWVJbnB1dF0sXG4gICAgbGluazogZGF0YVtzZWxlY3RvcnMuY2FyZExpbmtJbnB1dF1cbiAgfSk7XG4gIGNhcmRzTGlzdC5wcmVwZW5kSXRlbShjYXJkKTtcbiAgYWRkQ2FyZFBvcFVwLmNsb3NlKCk7XG59KTtcbmFkZENhcmRQb3BVcC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5idXR0b25BZGROZXdDYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBhZGRDYXJkUG9wVXAub3BlbigpO1xuICBjYXJkVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbmZ1bmN0aW9uIG9wZW5JbWFnZShpdGVtKSB7XG4gIHBvcFVwV2l0aEltYWdlLm9wZW4oaXRlbS5saW5rLCBpdGVtLm5hbWUpO1xufVxuXG5jb25zdCBwb3BVcFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShzZWxlY3RvcnNDYXJkcy5wb3BVcFZpZXdDYXJkKTtcbnBvcFVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHByb2ZpbGVJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgc2VsZWN0b3JzVXNlclxufSk7XG5jb25zdCBwcm9maWxlUG9wVXAgPSBuZXcgUG9wdXBXaXRoRm9ybShzZWxlY3RvcnMucG9wVXBFZGl0UHJvZmlsZSwgKGlucHV0VmFsdWVzKSA9PiB7XG4gIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKGlucHV0VmFsdWVzKTtcbiAgcHJvZmlsZVBvcFVwLmNsb3NlKCk7XG59KTtcbnByb2ZpbGVQb3BVcC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5wcm9maWxlQnV0dG9uRWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcHJvZmlsZVBvcFVwLm9wZW4oKTtcbiAgY29uc3QgdXNlckluZm8gPSBwcm9maWxlSW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlUG9wVXAuc2V0SW5wdXRWYWx1ZXModXNlckluZm8pO1xuICBwcm9maWxlVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImluaXRpYWxDYXJkcyIsIm5hbWUiLCJsaW5rIiwic2VsZWN0b3JzUG9wdXAiLCJzZWxlY3RvcnNWYWxpZGF0aW9uIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJDYXJkIiwiaXRlbSIsInNlbGVjdG9yVGVtcGxhdGUiLCJoYW5kbGVDYXJkQ2xpY2siLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJfc2VsZWN0b3JUZW1wbGF0ZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9pbWdDYXJkIiwidGV4dENvbnRlbnQiLCJfdGl0bGUiLCJhbHQiLCJzcmMiLCJfc3JjIiwiX2J1dHRvbkxpa2VDYXJkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVDYXJkRGVsZXRlIiwiX2hhbmRsZUxpa2UiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2l0ZW0iLCJyZW1vdmUiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ0aGlzIiwiX2FsdCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImV2ZW50Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjb250YWlucyIsIl9wb3B1cCIsIl9jbG9zZUljb24iLCJhZGQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2hhbmRsZUNsaWNrSWNvbkNsb3NlIiwiUG9wdXBXaXRoRm9ybSIsInNlbGVjdG9yTmFtZSIsInN1Ym1pdEhhbmRsZXIiLCJmb3JtIiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfaW5wdXROYW1lIiwiX2lucHV0VXNlckluZm8iLCJyZXNldCIsIl9mb3JtVmFsdWVzIiwiZm9yRWFjaCIsImlucHV0IiwidmFsdWUiLCJ2YWx1ZXMiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsIlBvcHVwV2l0aEltYWdlIiwic2VsZWN0b3IiLCJfcG9wdXBJbWFnZSIsIl9pbWFnZU5hbWUiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX3JlbmRlcmVkSXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiY2FyZCIsImFwcGVuZCIsInByZXBlbmQiLCJpbm5lckhUTUwiLCJjbGVhciIsIlVzZXJJbmZvIiwic2VsZWN0b3JzVXNlciIsIl91c2VyTmFtZSIsIl91c2VySm9iIiwiX3NlbGVjdG9yc1VzZXIiLCJhYm91dCIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsInNlbGVjdG9ycyIsIl9pbnB1dEVsZW1lbnQiLCJfc2VsZWN0b3JzIiwiX2Vycm9yRWxlbWVudCIsIl9lcnJvck1lc3NhZ2UiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwic29tZSIsImlucHV0RWxlbWVudCIsIl9idXR0b25FbGVtZW50Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9lbmFibGVTdWJtaXRCdXR0b24iLCJfZGlzYWJsZVN1Ym1pdEJ1dHRvbiIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9mb3JtRWxlbWVudCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2lzVmFsaWQiLCJBcnJheSIsImZyb20iLCJwcm9maWxlQnV0dG9uRWRpdCIsImJ1dHRvbkFkZE5ld0NhcmQiLCJmb3JtRWRpdFByb2ZpbGUiLCJmb3JtQWRkQ2FyZCIsInByb2ZpbGVWYWxpZGF0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwiY2FyZFZhbGlkYXRvciIsImNyZWF0ZUNhcmQiLCJvcGVuSW1hZ2UiLCJnZW5lcmF0ZUNhcmQiLCJjYXJkc0xpc3QiLCJhZGRJdGVtIiwicmVuZGVySXRlbXMiLCJhZGRDYXJkUG9wVXAiLCJkYXRhIiwicHJlcGVuZEl0ZW0iLCJwb3BVcFdpdGhJbWFnZSIsIm9wZW4iLCJzZXRFdmVudExpc3RlbmVycyIsInJlc2V0VmFsaWRhdGlvbiIsInByb2ZpbGVJbmZvIiwicHJvZmlsZVBvcFVwIiwiaW5wdXRWYWx1ZXMiLCJzZXRVc2VySW5mbyIsInVzZXJJbmZvIiwiZ2V0VXNlckluZm8iLCJzZXRJbnB1dFZhbHVlcyJdLCJzb3VyY2VSb290IjoiIn0=